C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE CARCHASSIS
OBJECT MODULE PLACED IN .\Objects\CarChassis.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Keil_v5\C51\BIN\C51.EXE CarChassis.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OB
                    -JECTEXTEND CODE PRINT(.\Listings\CarChassis.lst) TABS(2) OBJECT(.\Objects\CarChassis.obj)

line level    source

   1          #include<reg51.h>
   2          #define uchar unsigned char
   3          #define uint unsigned int
   4          
   5          sbit motor_a1 = P0^0;
   6          sbit motor_a2 = P0^1;
   7          sbit motor_b1 = P0^2;
   8          sbit motor_b2 = P0^3;
   9          sbit motor_c1 = P0^4;
  10          sbit motor_c2 = P0^5;
  11          sbit motor_d1 = P0^6;
  12          sbit motor_d2 = P0^7;
  13          sbit motor_ap = P2^0;
  14          sbit motor_bp = P2^1;
  15          sbit motor_cp = P2^2;
  16          sbit motor_dp = P2^3;
  17          
  18          void ctrlm(uchar motor,uchar dire)
  19          {
  20   1        uchar data1,data2,datap;
  21   1        switch(dire)
  22   1        {
  23   2          case 0:
  24   2            data1=0;data2=0;break;
  25   2          case 1:
  26   2            data1=1;data2=0;break;
  27   2          case 2:
  28   2            data1=0;data2=1;break;
  29   2          case 3:
  30   2            data1=1;data2=1;break;
  31   2          default:
  32   2            data1=0;data2=0;break;
  33   2        }
  34   1        
  35   1        switch(motor)
  36   1        {
  37   2          case 'a':
  38   2            motor_a1=data1;motor_a2=data2;motor_ap=datap;break;
  39   2          case 'b':
  40   2            motor_b1=data1;motor_b2=data2;motor_bp=datap;break;
  41   2          case 'c':
  42   2            motor_c1=data1;motor_c2=data2;motor_cp=datap;break;
  43   2          case 'd':
  44   2            motor_d1=data1;motor_d2=data2;motor_dp=datap;break;
  45   2          default:
  46   2            break;
  47   2        }
  48   1      }
  49          
  50          void delay(unsigned int x)
  51          {
  52   1        uchar t;
  53   1        while(x--)
  54   1        {
C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 2   

  55   2          for(t=0;t<120;t++);
  56   2        }
  57   1      }
  58          
  59          void main()
  60          {
  61   1        P1=0xFF;
  62   1        P0=0xFF;
  63   1        delay(1000);
  64   1        while(1)
  65   1        {
  66   2          ctrlm('a',1);
  67   2          delay(2000);
  68   2          ctrlm('b',1);
  69   2          delay(2000);
  70   2          ctrlm('c',1);
  71   2          delay(2000);
  72   2          ctrlm('d',1);
  73   2          delay(2000);
  74   2          ctrlm('a',3);
  75   2          delay(2000);
  76   2          ctrlm('b',3);
  77   2          delay(2000);
  78   2          ctrlm('c',3);
  79   2          delay(2000);
  80   2          ctrlm('d',3);
  81   2          delay(2000);
  82   2          P0=0xFF;
  83   2        }
  84   1      }
C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 3   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _ctrlm (BEGIN)
                                           ; SOURCE LINE # 18
;---- Variable 'data2' assigned to Register 'R6' ----
;---- Variable 'dire' assigned to Register 'R5' ----
;---- Variable 'motor' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 19
                                           ; SOURCE LINE # 21
0000 ED                MOV     A,R5
0001 14                DEC     A
0002 600C              JZ      ?C0003
0004 14                DEC     A
0005 6013              JZ      ?C0004
0007 14                DEC     A
0008 6019              JZ      ?C0005
000A 2403              ADD     A,#03H
000C 701E              JNZ     ?C0006
                                           ; SOURCE LINE # 22
                                           ; SOURCE LINE # 23
000E         ?C0002:
                                           ; SOURCE LINE # 24
000E 801C              SJMP    ?C0024
                                           ; SOURCE LINE # 25
0010         ?C0003:
                                           ; SOURCE LINE # 26
0010 900000      R     MOV     DPTR,#data1
0013 7401              MOV     A,#01H
0015 F0                MOVX    @DPTR,A
0016 E4                CLR     A
0017 FE                MOV     R6,A
0018 8018              SJMP    ?C0001
                                           ; SOURCE LINE # 27
001A         ?C0004:
                                           ; SOURCE LINE # 28
001A E4                CLR     A
001B 900000      R     MOV     DPTR,#data1
001E F0                MOVX    @DPTR,A
001F 7E01              MOV     R6,#01H
0021 800F              SJMP    ?C0001
                                           ; SOURCE LINE # 29
0023         ?C0005:
                                           ; SOURCE LINE # 30
0023 900000      R     MOV     DPTR,#data1
0026 7401              MOV     A,#01H
0028 F0                MOVX    @DPTR,A
0029 FE                MOV     R6,A
002A 8006              SJMP    ?C0001
                                           ; SOURCE LINE # 31
002C         ?C0006:
                                           ; SOURCE LINE # 32
002C         ?C0024:
002C E4                CLR     A
002D 900000      R     MOV     DPTR,#data1
0030 F0                MOVX    @DPTR,A
0031 FE                MOV     R6,A
                                           ; SOURCE LINE # 33
0032         ?C0001:
                                           ; SOURCE LINE # 35
0032 EF                MOV     A,R7
0033 249E              ADD     A,#09EH
C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 4   

0035 601E              JZ      ?C0009
0037 14                DEC     A
0038 602F              JZ      ?C0010
003A 14                DEC     A
003B 6040              JZ      ?C0011
003D 2403              ADD     A,#03H
003F 704F              JNZ     ?C0013
                                           ; SOURCE LINE # 36
                                           ; SOURCE LINE # 37
0041         ?C0008:
                                           ; SOURCE LINE # 38
0041 900000      R     MOV     DPTR,#data1
0044 E0                MOVX    A,@DPTR
0045 24FF              ADD     A,#0FFH
0047 9280              MOV     motor_a1,C
0049 EE                MOV     A,R6
004A 24FF              ADD     A,#0FFH
004C 9281              MOV     motor_a2,C
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 24FF              ADD     A,#0FFH
0052 92A0              MOV     motor_ap,C
0054 22                RET     
                                           ; SOURCE LINE # 39
0055         ?C0009:
                                           ; SOURCE LINE # 40
0055 900000      R     MOV     DPTR,#data1
0058 E0                MOVX    A,@DPTR
0059 24FF              ADD     A,#0FFH
005B 9282              MOV     motor_b1,C
005D EE                MOV     A,R6
005E 24FF              ADD     A,#0FFH
0060 9283              MOV     motor_b2,C
0062 A3                INC     DPTR
0063 E0                MOVX    A,@DPTR
0064 24FF              ADD     A,#0FFH
0066 92A1              MOV     motor_bp,C
0068 22                RET     
                                           ; SOURCE LINE # 41
0069         ?C0010:
                                           ; SOURCE LINE # 42
0069 900000      R     MOV     DPTR,#data1
006C E0                MOVX    A,@DPTR
006D 24FF              ADD     A,#0FFH
006F 9284              MOV     motor_c1,C
0071 EE                MOV     A,R6
0072 24FF              ADD     A,#0FFH
0074 9285              MOV     motor_c2,C
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 24FF              ADD     A,#0FFH
007A 92A2              MOV     motor_cp,C
007C 22                RET     
                                           ; SOURCE LINE # 43
007D         ?C0011:
                                           ; SOURCE LINE # 44
007D 900000      R     MOV     DPTR,#data1
0080 E0                MOVX    A,@DPTR
0081 24FF              ADD     A,#0FFH
0083 9286              MOV     motor_d1,C
0085 EE                MOV     A,R6
0086 24FF              ADD     A,#0FFH
C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 5   

0088 9287              MOV     motor_d2,C
008A A3                INC     DPTR
008B E0                MOVX    A,@DPTR
008C 24FF              ADD     A,#0FFH
008E 92A3              MOV     motor_dp,C
                                           ; SOURCE LINE # 45
                                           ; SOURCE LINE # 46
                                           ; SOURCE LINE # 47
                                           ; SOURCE LINE # 48
0090         ?C0013:
0090 22                RET     
             ; FUNCTION _ctrlm (END)

             ; FUNCTION L?0025 (BEGIN)
0000         L?0026:
0000 7FD0              MOV     R7,#0D0H
0002 7E07              MOV     R6,#07H
             ; FUNCTION _delay (BEGIN)
                                           ; SOURCE LINE # 50
;---- Variable 't' assigned to Register 'R5' ----
;---- Variable 'x' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 51
0004         ?C0014:
                                           ; SOURCE LINE # 53
0004 EF                MOV     A,R7
0005 1F                DEC     R7
0006 AA06              MOV     R2,AR6
0008 7001              JNZ     ?C0023
000A 1E                DEC     R6
000B         ?C0023:
000B 4A                ORL     A,R2
000C 600B              JZ      ?C0019
                                           ; SOURCE LINE # 54
                                           ; SOURCE LINE # 55
000E E4                CLR     A
000F FD                MOV     R5,A
0010         ?C0016:
0010 ED                MOV     A,R5
0011 C3                CLR     C
0012 9478              SUBB    A,#078H
0014 50EE              JNC     ?C0014
0016 0D                INC     R5
0017 80F7              SJMP    ?C0016
                                           ; SOURCE LINE # 56
                                           ; SOURCE LINE # 57
0019         ?C0019:
0019 22                RET     
             ; FUNCTION _delay (END)

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 59
                                           ; SOURCE LINE # 60
                                           ; SOURCE LINE # 61
0000 7590FF            MOV     P1,#0FFH
                                           ; SOURCE LINE # 62
0003 7580FF            MOV     P0,#0FFH
                                           ; SOURCE LINE # 63
0006 7FE8              MOV     R7,#0E8H
0008 7E03              MOV     R6,#03H
000A 120000      R     LCALL   _delay
000D         ?C0020:
                                           ; SOURCE LINE # 64
C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 6   

                                           ; SOURCE LINE # 65
                                           ; SOURCE LINE # 66
000D 7D01              MOV     R5,#01H
000F 7F61              MOV     R7,#061H
0011 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 67
0014 120000      R     LCALL   L?0025
                                           ; SOURCE LINE # 68
0017 7D01              MOV     R5,#01H
0019 7F62              MOV     R7,#062H
001B 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 69
001E 120000      R     LCALL   L?0025
                                           ; SOURCE LINE # 70
0021 7D01              MOV     R5,#01H
0023 7F63              MOV     R7,#063H
0025 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 71
0028 120000      R     LCALL   L?0026
                                           ; SOURCE LINE # 72
002B 7D01              MOV     R5,#01H
002D 7F64              MOV     R7,#064H
002F 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 73
0032 120000      R     LCALL   L?0026
                                           ; SOURCE LINE # 74
0035 7D03              MOV     R5,#03H
0037 7F61              MOV     R7,#061H
0039 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 75
003C 120000      R     LCALL   L?0026
                                           ; SOURCE LINE # 76
003F 7D03              MOV     R5,#03H
0041 7F62              MOV     R7,#062H
0043 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 77
0046 120000      R     LCALL   L?0026
                                           ; SOURCE LINE # 78
0049 7D03              MOV     R5,#03H
004B 7F63              MOV     R7,#063H
004D 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 79
0050 120000      R     LCALL   L?0026
                                           ; SOURCE LINE # 80
0053 7D03              MOV     R5,#03H
0055 7F64              MOV     R7,#064H
0057 120000      R     LCALL   _ctrlm
                                           ; SOURCE LINE # 81
005A 120000      R     LCALL   L?0026
                                           ; SOURCE LINE # 82
005D 7580FF            MOV     P0,#0FFH
                                           ; SOURCE LINE # 83
0060 80AB              SJMP    ?C0020
             ; FUNCTION main (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    269    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       2
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.56.0.0   CARCHASSIS                                                        10/26/2017 05:22:22 PAGE 7   

   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
